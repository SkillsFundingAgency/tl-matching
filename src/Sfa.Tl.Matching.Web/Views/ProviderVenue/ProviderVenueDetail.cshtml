@model Sfa.Tl.Matching.Models.ViewModel.ProviderVenueDetailViewModel

@{
    ViewData["Title"] = Model.Postcode;
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section backButton{
    <a asp-route="AddVenue" asp-route-providerId="@Model.ProviderId" class="govuk-back-link">Back</a>
}

@if (!ViewData.ModelState.IsValid)
{
    <div class="govuk-error-summary" aria-labelledby="error-summary-title" role="alert" tabindex="-1" data-module="error-summary">
        <h2 class="govuk-error-summary__title" id="error-summary-title">
            This page has errors
        </h2>
        <div class="govuk-error-summary__body">
            <ul class="govuk-list govuk-error-summary__list">
                <li><a sfa-validation-for="Name"></a></li>
                <li><a href="#addQual" sfa-validation-for="@Model.Qualifications"></a></li>
            </ul>
        </div>
    </div>
}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

        <span class="govuk-caption-m">@Model.ProviderName</span>
        <h1 class="govuk-heading-l">@Model.Postcode</h1>
        <p class="govuk-body">
            <a asp-controller="ProviderVenue" asp-action="ConfirmProviderVenueChange" asp-route-id="@Model.Id" class="govuk-link">@(Model.IsEnabledForSearch ? "Hide" : "Unhide") venue</a>
        </p>
        <form asp-route="SaveVenue" novalidate>
            <div class="govuk-form-group">
                <label class="govuk-label" for="Name">
                    Enter venue name (optional)
                </label>
                <input asp-for="Name" class="govuk-input govuk-!-width-two-thirds" id="Name" name="Name" type="text" sfa-validation-for="Name" sfa-validationerror-class="govuk-input--error">
            </div>

            <input asp-for="Id" type="hidden" />
            <input asp-for="ProviderId" type="hidden" />
            <input asp-for="Source" value="Admin" type="hidden" />

            <button type="submit" class="govuk-button tl-button--grey" id="tl-confirm">Save section</button>
        </form>

    </div>
</div>

<div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
        <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">
        <h2 class="govuk-heading-m">Qualifications</h2>

        <form asp-route="SaveProviderVenueDetail" novalidate>
            <input asp-for="Id" type="hidden" />

            <table class="govuk-table">
                <thead class="govuk-table__head">
                    <tr class="govuk-table__row">
                        <th class="govuk-table__header" scope="col">LAR ID</th>
                        <th class="govuk-table__header" scope="col">Qualification title</th>
                        <th class="govuk-table__header" scope="col">18/19</th>
                        <th class="govuk-table__header" scope="col">19/20</th>
                        <th class="govuk-table__header" scope="col"></th>
                    </tr>
                </thead>
                <tbody class="govuk-table__body">
                    @for (var i = 0; i < Model.Qualifications.Count; i++)
                    {
                        <tr class="govuk-table__row">
                            <td class="govuk-table__cell">
                                <input asp-for="@Model.Qualifications[i].LarsId" type="hidden" />
                                <input asp-for="@Model.Qualifications[i].Title" type="hidden" />
                                @Model.Qualifications[i].LarsId
                            </td>
                            <td class="govuk-table__cell">@Model.Qualifications[i].Title</td>
                            <td class="govuk-table__cell">
                                <div class="govuk-checkboxes">
                                    <div class="govuk-checkboxes__item">
                                        <input class="govuk-checkboxes__input" id="1a" name="1a" type="checkbox" value="yes" checked="">
                                        <label class="govuk-label govuk-checkboxes__label" for="1a"></label>
                                    </div>
                                </div>
                            </td>
                            <td class="govuk-table__cell">
                                <div class="govuk-checkboxes">
                                    <div class="govuk-checkboxes__item">
                                        <input class="govuk-checkboxes__input" id="1b" name="1b" type="checkbox" value="yes">
                                        <label class="govuk-label govuk-checkboxes__label" for="1b"></label>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>

            <p class="govuk-body">
                <a class="govuk-link" id="addQual" href="#">Add a qualification</a>
            </p>
            <button type="submit" class="govuk-button" id="tl-confirm">Save and return to provider overview</button>
        </form>
    </div>
</div>